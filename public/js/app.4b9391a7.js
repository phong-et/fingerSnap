(function(t){function n(n){for(var e,o,s=n[0],u=n[1],c=n[2],f=0,l=[];f<s.length;f++)o=s[f],i[o]&&l.push(i[o][0]),i[o]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(t[e]=u[e]);d&&d(n);while(l.length)l.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,n=0;n<r.length;n++){for(var a=r[n],e=!0,s=1;s<a.length;s++){var u=a[s];0!==i[u]&&(e=!1)}e&&(r.splice(n--,1),t=o(o.s=a[0]))}return t}var e={},i={app:0},r=[];function o(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=e,o.d=function(t,n,a){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)o.d(a,e,function(n){return t[n]}.bind(null,e));return a},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var d=u;r.push([0,"chunk-vendors"]),a()})({0:function(t,n,a){t.exports=a("56d7")},"006e":function(t,n,a){t.exports=a.p+"img/Iron_man_mark_85.b8bda1f1.png"},"034f":function(t,n,a){"use strict";var e=a("64a9"),i=a.n(e);i.a},"47cc":function(t,n,a){t.exports=a.p+"img/time-magic-circle.7b475e85.png"},"56d7":function(t,n,a){"use strict";a.r(n);a("cadf"),a("551c"),a("f751"),a("097d");var e=a("2b0e"),i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"content gradient"},[e("div",{staticClass:"field"},[e("div",{attrs:{id:"iron-man"}},[e("img",{attrs:{src:a("006e"),alt:"iron man"},on:{click:t.snap}}),e("div",{staticClass:"origin"},[e("transition",{attrs:{name:"slide-fade"}},[t.text?e("div",{key:t.text,staticClass:"bubby iron-man-bubby"},[e("p",[t._v(t._s(t.text))])]):t._e()])],1)]),e("div",{staticClass:"thanos-wrapper"},[e("img",{staticClass:"thanos",attrs:{id:"thanos",src:a("e1b9"),alt:"Thanos"}}),e("transition",{attrs:{name:"fade"}},[t.isThanosAlive?t._e():e("div",{staticClass:"magic-circle",on:{click:t.reset}},[e("img",{attrs:{src:a("47cc"),alt:"Undo"}}),e("span",[t._v("Undo")])])])],1)])]),e("div",{staticClass:"instruction"},[e("transition",{attrs:{name:"fade"}},[t.guide?e("p",{staticClass:"animated"},[t._v("Hit the Iron Man to destroy Thanos")]):t._e()])],1)])},r=[],o=(a("6aa2"),a("c0e9")),s=a.n(o),u=a("9e67"),c=a.n(u),d=new c.a,f=["Thanos!\nWe are in the end game now","SNAP!","I'm Iron Man!"],l={name:"app",data:function(){return{imageDataArray:[],canvasCount:35,text:"",guide:!1,isThanosAlive:!0,easing:!1}},mounted:function(){var t=this;this.prepare(),setTimeout(function(){t.text=f[0]},1500),setTimeout(function(){t.guide=!0},3e3)},methods:{reset:function(){window.location.reload()},prepare:function(){var t=this;s()(window.$(".thanos-wrapper")[0],{backgroundColor:null}).then(function(n){var a=n.getContext("2d"),e=a.getImageData(0,0,n.width,n.height),i=e.data;t.createBlankImageData(e);for(var r=0;r<i.length;r+=4){var o=Math.floor(r/i.length*t.canvasCount),s=t.imageDataArray[t.weightedRandomDistrib(o)];s[r]=i[r],s[r+1]=i[r+1],s[r+2]=i[r+2],s[r+3]=i[r+3]}for(var u=0;u<t.canvasCount;u++){var c=t.newCanvasFromImageData(t.imageDataArray[u],n.width,n.height);c.classList.add("dust","thanos"),window.$(".thanos-wrapper").append(c),window.$("#thanos").addClass("hidden")}})},snap:function(){var t=this;if(this.isThanosAlive&&!this.easing){this.easing=!0,this.guide=!1,this.text=f[1],this.text="",setTimeout(function(){t.easing=!1,t.isThanosAlive=!1},8e3);var n=this;window.$(".dust").each(function(t){var a=this;n.animateBlur(window.$(this),.8,800),setTimeout(function(){n.animateTransform(window.$(a),100,-100,d.integer({min:-15,max:15}),800+110*t)},70*t),setTimeout(function(){n.text=f[2]},3e3),setTimeout(function(){n.text=""},7e3),window.$(this).delay(70*t).fadeOut(110*t+800,"easeInQuint",function(){window.$(a).remove()})})}},weightedRandomDistrib:function(t){for(var n=[],a=[],e=0;e<this.canvasCount;e++)n.push(Math.pow(this.canvasCount-Math.abs(t-e),3)),a.push(e);return d.weighted(a,n)},animateBlur:function(t,n,a){window.$({rad:0}).animate({rad:n},{duration:a,easing:"easeOutQuad",step:function(n){t.css({filter:"blur("+n+"px)"})}})},animateTransform:function(t,n,a,e,i){var r=0,o=0,s=0;window.$({x:0,y:0,deg:0}).animate({x:n,y:a,deg:e},{duration:i,easing:"easeInQuad",step:function(n,a){"x"==a.prop?o=n:"y"==a.prop?s=n:"deg"==a.prop&&(r=n),t.css({transform:"rotate("+r+"deg)translate("+o+"px,"+s+"px)"})}})},createBlankImageData:function(t){for(var n=0;n<this.canvasCount;n++){for(var a=new Uint8ClampedArray(t.data),e=0;e<a.length;e++)a[e]=0;this.imageDataArray.push(a)}},newCanvasFromImageData:function(t,n,a){var e=document.createElement("canvas");e.width=n,e.height=a;var i=e.getContext("2d");return i.putImageData(new ImageData(t,n,a),0,0),e}}},p=l,h=(a("034f"),a("2877")),m=Object(h["a"])(p,i,r,!1,null,null,null),g=m.exports;e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(g)}}).$mount("#app")},"64a9":function(t,n,a){},e1b9:function(t,n,a){t.exports=a.p+"img/thanos.1647dd08.png"}});
//# sourceMappingURL=app.4b9391a7.js.map